# Sentinel Dashboard 前端重构 - 任务清单

> 状态标记：⬜ 未开始 | 🔄 进行中 | ✅ 已完成 | ⏸️ 暂停

---

## 1. 基础设施

### 1.1 项目配置

- ⬜ 修改 package.json（项目名、描述）
- ⬜ 配置环境变量（.env）
- ⬜ 配置代理（vite.config.mts）
- ⬜ 清理模板无用代码

### 1.2 API 基础

- ⬜ 创建 API 客户端（src/lib/api/client.ts）
- ⬜ 定义响应类型（src/types/api.ts）
- ⬜ 封装错误处理

### 1.3 类型定义

- ⬜ App 类型（src/types/app.ts）
- ⬜ Machine 类型（src/types/machine.ts）
- ⬜ Rule 类型（src/types/rule.ts）
- ⬜ Cluster 类型（src/types/cluster.ts）

---

## 2. 认证模块

### 2.1 登录页面

- ⬜ 登录表单组件
- ⬜ 登录 API 集成
- ⬜ Token 存储和刷新
- ⬜ 路由守卫

### 2.2 E2E 测试

- ⬜ 登录成功测试
- ⬜ 登录失败测试
- ⬜ 退出登录测试

---

## 3. 布局和导航

### 3.1 Dashboard 布局

- ⬜ 顶部导航栏
- ⬜ 侧边栏（应用列表）
- ⬜ 侧边栏宽度可调整
- ⬜ 主内容区域

### 3.2 应用列表

- ⬜ 应用列表 API
- ⬜ 应用搜索功能
- ⬜ 应用健康状态显示
- ⬜ 应用展开/收起菜单

### 3.3 E2E 测试

- ⬜ 侧边栏渲染测试
- ⬜ 应用搜索测试
- ⬜ 导航切换测试

---

## 4. 首页

### 4.1 功能

- ⬜ 概览统计卡片
- ⬜ 系统信息展示

### 4.2 E2E 测试

- ⬜ 首页加载测试

---

## 5. 实时监控

### 5.1 功能

- ⬜ Metric API 集成
- ⬜ 图表组件（QPS、RT、并发数）
- ⬜ 时间范围选择
- ⬜ 自动刷新

### 5.2 E2E 测试

- ⬜ 监控页面加载测试
- ⬜ 图表渲染测试

---

## 6. 簇点链路

### 6.1 功能

- ⬜ Identity API 集成
- ⬜ 资源树形展示
- ⬜ 搜索和过滤
- ⬜ 快捷添加规则入口

### 6.2 E2E 测试

- ⬜ 簇点链路加载测试
- ⬜ 搜索功能测试

---

## 7. 流控规则

### 7.1 功能

- ⬜ Flow API 集成
- ⬜ 规则列表展示
- ⬜ 新增规则表单
- ⬜ 编辑规则
- ⬜ 删除规则
- ⬜ 批量操作

### 7.2 E2E 测试

- ⬜ 规则列表加载测试
- ⬜ 新增规则测试
- ⬜ 编辑规则测试
- ⬜ 删除规则测试

---

## 8. 降级规则

### 8.1 功能

- ⬜ Degrade API 集成
- ⬜ 规则列表展示
- ⬜ CRUD 操作

### 8.2 E2E 测试

- ⬜ 降级规则 CRUD 测试

---

## 9. 热点参数

### 9.1 功能

- ⬜ Param Flow API 集成
- ⬜ 规则列表展示
- ⬜ CRUD 操作
- ⬜ 参数例外项配置

### 9.2 E2E 测试

- ⬜ 热点参数规则测试

---

## 10. 系统规则

### 10.1 功能

- ⬜ System API 集成
- ⬜ 规则列表展示
- ⬜ CRUD 操作

### 10.2 E2E 测试

- ⬜ 系统规则测试

---

## 11. 授权规则

### 11.1 功能

- ⬜ Authority API 集成
- ⬜ 规则列表展示
- ⬜ CRUD 操作

### 11.2 E2E 测试

- ⬜ 授权规则测试

---

## 12. 机器列表

### 12.1 功能

- ⬜ Machine API 集成
- ⬜ 机器列表展示
- ⬜ 机器详情
- ⬜ 移除机器

### 12.2 E2E 测试

- ⬜ 机器列表测试

---

## 13. 集群流控

### 13.1 功能

- ⬜ Cluster API 集成
- ⬜ Token Server 列表
- ⬜ Token Client 列表
- ⬜ 集群分配管理
- ⬜ 集群配置修改

### 13.2 E2E 测试

- ⬜ 集群流控页面测试
- ⬜ Token Server 显示测试

---

## 14. 网关流控（如需要）

### 14.1 功能

- ⬜ Gateway API 集成
- ⬜ API 管理
- ⬜ 网关流控规则

### 14.2 E2E 测试

- ⬜ 网关流控测试

---

## 15. 优化和收尾

### 15.1 功能优化

- ⬜ 响应式布局适配
- ⬜ 暗色主题支持
- ⬜ 国际化（中/英）
- ⬜ 性能优化

### 15.2 文档

- ⬜ 更新 README
- ⬜ 更新部署文档
- ⬜ API 文档补充

### 15.3 测试完善

- ⬜ 单元测试补充
- ⬜ E2E 测试完善
- ⬜ CI 集成

---

## 变更记录

| 日期       | 变更内容     | 负责人 |
| ---------- | ------------ | ------ |
| 2025-12-05 | 创建任务清单 | AI     |
